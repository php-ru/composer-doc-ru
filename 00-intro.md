# Введение

Composer — это инструмент управления зависимостями в PHP. Он позволяет объявлять
библиотеки, от которых зависит ваш проект, и будет управлять (устанавливать
или обновлять) их.

## Управление зависимостями

Composer — это **не** менеджер пакетов, в том смысле, каким им являются Yum или
Apt. Да, он работает с «пакетами» или библиотеками, но управляет ими,
основываясь на каждый проект, устанавливая их в директорию (например, `vendor`)
внутри проекта. По умолчанию он не устанавливает пакеты глобально.
Следовательно, это менеджер зависимостей. Однако для удобства поддерживается
глобальная установка пакетов с помощью команды [global](03-cli.md#global).

Идея Composer не нова, на него большое влияние оказал
[npm](https://www.npmjs.com/) из Node.js, а также [bundler](https://bundler.io/)
в экосистеме Ruby.

Предположим, что:

1. У вас есть проект, который зависит от ряда библиотек.
1. Некоторые из этих библиотек в свою очередь зависят от других библиотек.

Тут вступает в дело Composer, который:

1. Позволяет объявлять библиотеки, от которых зависит ваш проект.
1. Определяет, какие версии пакетов могут и должны быть установлены, а далее
   устанавливает их (т.е. загружает их в ваш проект).

Дополнительную информацию об объявлении зависимостей смотрите в главе «[Основы
использования](01-basic-usage.md)».

## Системные требования

Для запуска Composer требуется PHP 5.3.2+, вместе с этим потребуются некоторые
важные настройки PHP и флаги компиляции, но при использовании установщика вы
будете предупреждены о любых несовместимостей.

Для установки пакетов из исходных файлов вместо простых zip-архивов вам
понадобится git, svn, fossil или hg в зависимости от того, какая система
контроля версией используется для пакета.

Composer — кроссплатформенная утилита, и разработчики стремятся сделать, чтобы
она хорошо работало в Windows, Linux и macOS.

## Установка на Linux/Unix/macOS

### Загрузка исполняемого композитора

Composer предлагает удобный установщик, который можно выполнить непосредственно
из командной строки. Вы свободно можете [скачать этот
файл](https://getcomposer.org/installer) или просмотреть его код на
[GitHub](https://github.com/composer/getcomposer.org/blob/master/web/installer),
если хотите больше узнать о внутренней работе установщика. Исходный код — это
код на обычным PHP.

Одним словом, существуют два способа установки Composer: локально в качестве
части вашего проекта или глобально как исполняемый файл в пределах всей системы.

#### Локальная установка

Для установки Composer локально, запустите установщик в директории проекта.
Посетите [страницу загрузки](https://getcomposer.org/download/) для получения
инструкций.

Установщик проверит несколько настроек PHP, а затем загрузит `composer.phar` в
текущий рабочую директорию. Данный файл представляет собой двоичный файл
Composer. Это PHAR (PHP-архив), который является форматом архива для PHP,
который, помимо прочего, можно запускать в в командной строке.

Теперь выполните в консоли `php composer.phar` для запуска Composer.

Вы можете установить Composer в конкретную директорию с помощью опцию
`--install-dir` и также дополнительно назвать другим именем (переименовать)
исполняемый файл, используя опцию `--filename`. При запуске установщика в
соответствии с [инструкциями на странице
загрузки](https://getcomposer.org/download/), добавьте следующие опции:

```sh
php composer-setup.php --install-dir=bin --filename=composer
```

Теперь выполните `php bin/composer`, чтобы запустить Composer.

#### Глобальная установка

Вы можете разместить PHAR с Composer в любом месте. Если вы поместите его в
директорию, являющийся частью переменной окружения `PATH`, вы можете получить
доступ к нему глобально. В UNIX-подобных системах вы может даже сделать его
исполняемым и вызвать его без непосредственного использования интерпретатора
`php`.

После запуска установщика следуйте [инструкциям на странице
загрузки](https://getcomposer.org/download/), вы можете выполнить команду ниже
для перемещения файла composer.phar в директорию, который находится в `PATH`:

```sh
mv composer.phar /usr/local/bin/composer
```

Если вы хотите установить его только для своего пользователя и избежать
использования прав root-пользователя, вы можете установить в `~/.local/bin`,
который доступен по умолчанию на определенных дистрибутивах Linux.

> **Примечание:** Если выполнение приведённой выше команды не удалось из-за
> недостаточных прав, возможно, потребуется выполнить её снова с использованием
> sudo.

> **Примечание:** В некоторых версиях macOS директорию `/usr` по умолчанию не
> существует. Если вы получили сообщение об ошибке "/usr/local/bin/composer: No
> such file or directory", тогда вам следует вручную создать директорию перед
> продолжением: `mkdir -p /usr/local/bin`.

> **Примечание:** Для получения информации по изменению `PATH`, прочитайте
> [статью на
> Википедии](https://ru.wikipedia.org/wiki/PATH_(%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F))
> и/или воспользуйтесь Google.

Теперь выполните `composer` вместо `php composer.phar`, чтобы запустить
Composer.

## Установка на Windows

### Использование установщика

Это самый простой способ установить Composer на компьютере, работающем под
Windows.

Скачайте и запустите
[Composer-Setup.exe](https://getcomposer.org/Composer-Setup.exe). Это действие
установит последнюю версию Composer и настроит `PATH` таким образом, чтобы можно
было выполнить `composer` из любой директории в командной строке.

> **Примечание:** Закройте текущую сессию в терминале. Протестируйте
> правильность установить в новом терминале: это важно, поскольку `PATH`
> загружается только при запуске новой сессии терминала.

### Ручная установка

Перейдите в каталог на `PATH` и запустите программу установки, следуя
инструкциям на странице загрузки, чтобы загрузить composer.phar.

Создайте новый файл composer.bat вместе с composer.phar:

Перейти в директорию, заданную в `PATH` и запустите установщик, следуя
[инструкциями на странице загрузки](https://getcomposer.org/download/), чтобы
скачать `composer.phar`.

Создайте файл `composer.bat` рядом с `composer.phar`:

```sh
C:\bin>echo @php "%~dp0composer.phar" %*>composer.bat
```

Добавьте директорию в переменную окружения `PATH`, если она ещё там не указана.
Информацию про изменение переменной `PATH` смотрите в [этой
статье](https://www.computerhope.com/issues/ch000549.htm) и/или воспользуйтесь
Google.

Закройте текущую сессию в терминале. Протестируйте правильность установки
Composer, выполнив команду в новой сессии терминала:

```sh
C:\Users\username>composer -V
Composer version 1.0.0 2016-01-10 20:34:53
```

## Использование Composer

Теперь, когда вы установили Composer, вы готовы использовать его! Переходите к
следующей главе для получения краткой и простой демонстрации работы.

[Основы использования](01-basic-usage.md) &rarr;

<!-- ready: yes -->
<!-- revision: 35ebb8b93fb8e93bf4b2af55b3f11aea1a3934e6 -->